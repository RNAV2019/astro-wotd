---
import { Speaker } from "./Speaker";

// Card Component
export interface Props {
	text: string;
}

const { text } = Astro.props;
---

<script>
	let exampleSentence = document.getElementById("exampleSentence")?.innerText;

	// Create a new SpeechSynthesisUtterance instance
	const exampleSentenceUtterance = new SpeechSynthesisUtterance(
		exampleSentence!
	);

	// Preload the audio when the website initially loads
	window.speechSynthesis.speak(exampleSentenceUtterance);
	window.speechSynthesis.cancel();

	let exampleSentenceSpeakerButton = document.getElementById(
		"exampleSentenceSpeakerButton"
	);
	exampleSentenceSpeakerButton?.addEventListener("click", () => {
		window.speechSynthesis.speak(exampleSentenceUtterance);
	});
</script>
<div
	class='rounded-2xl bg-gradient-to-r from-purple-600 to-pink-600 themed p-1 shadow-xl text-white'
>
	<div class='block rounded-xl bg-slate-950 p-4 sm:p-6 lg:p-8 w-full h-full'>
		<div class='flex flex-row gap-3 items-center'>
			<h3 class='text-xl font-bold sm:text-2xl'>Example</h3>
			<Speaker fontSize={26} id='exampleSentenceSpeakerButton' />
		</div>
		<p class='mt-2 text-lg' id='exampleSentence'>{text}</p>
	</div>
</div>
